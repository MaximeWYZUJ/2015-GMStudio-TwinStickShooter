<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-10000</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*
phase 0 : on reçoit la quete
phase 1 : on tue les 4 sbires
phase 2 : on tue bill
phase 3 : retour au marchand
phase 4 : butin + instance_destroy()
*/

phase=0

current_dialogue=-1


//=== Dialogues ===
//Phase 0
dialogue[0,0]= "Inconnu : Bonjour voyageur ! Un mercenaire s'en prends aux civils sans defense."
dialogue[0,1]= "Joueur : C'est pas mon probleme."
dialogue[0,2]= "Inconnu : J'ai pose une bombe dans ton vaisseau. Maintenant c'est aussi ton probleme. Il est parti en direction du soleil."

//Phase 40
dialogue[40,0]= "Inconnu du bar : Bravo voyageur !"
dialogue[40,1]= "Inconnu du bar : GG !"
dialogue[40,2]= "Inconnu du bar : Rejoignez moi sur Mqldkn, je vous donnerai du fuel en gage de gratitude."


//=== Infos du journal de bord ===
JDB_descriptif="Des pirates du gang de Bill attaquent des civils sans défense. L'homme qui vous a demandé d'arrêter ces pirates prétend avoir posé une bombe dans le vaisseau. Bluff ? Complot ? Ma bite ? On ne sait pas ... 
Quoi qu'il en soit, ces pirates doivent payer leurs crimes de leur vie."

//objectif[phase]
JDB_objectif[20]="Eliminez les sbires de Bill, a l'est de votre position"
JDB_objectif[30]="Eliminez Bill"
JDB_objectif[35]="Repondre a l'appel ... eh ouais mec appuie sur B"
JDB_objectif[40]="Se rendre sur Mqldkn pour recuperer la money money !"

//Reference et archivage
obj_reference.NB_missions[obj_reference.rang, 0]=obj_mission0_killbill
obj_reference.NB_missions[obj_reference.rang, 1]="En cours"
obj_reference.NB_missions[obj_reference.rang, 2]="KillBill"
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>appel_subimage+=1

alarm[1]=45
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>phase=40
obj_mission0_killbill.current_dialogue=0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>switch (phase)
{
    case 10 :
    {
        for (i=0; i&lt;=3; i+=1)
        {
            mob[i]= instance_create(global.xvaisseau+1000+irandom(150), global.yvaisseau+irandom(200)-100, obj_ennemy)
            mob[i].image_blend=c_lime
        }
    
    phase=20
    }
    break;
    
    case 20 :
    {
        for (i=0; i&lt;=3; i+=1)
        {
            if instance_number(mob[i])&gt;0
            {break;}
            else if i==3
            {bill=instance_create(global.xvaisseau+300, global.yvaisseau, obj_ennemy_belier) ; phase=30}
        }
    }
    break;
    
    case 30 :
    {
        if instance_number(bill) == 0
        {
        phase=35
        appel_subimage=0
        alarm[1]=45
        }
    }
    break;
    
    case 50 :
    {
        obj_vaisseau.fuel+=100
        instance_deactivate_object(self)
    }
    break;
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>switch(phase)
{
    case 0 :
    {
        if current_dialogue&gt;=3
        {phase=10 ; current_dialogue=0 ; global.current_conv=0}
        else
        {
            if current_dialogue&gt;=0
            {
            global.current_conv=1
            draw_set_halign(fa_center)
            draw_roundrect_colour(192, 872, 1728, 972, c_red, c_maroon, false /*filled rectangle*/)
            draw_text(960, 915, string(dialogue[0 , current_dialogue]))
            draw_set_halign(fa_left)
            }
            
            
            if gamepad_button_check_released(0, gp_face1)
            {current_dialogue+=1}
        }
    }
    break;
    
    case 35 :
    {
        draw_sprite(spr_appel, appel_subimage mod 2, 1840, 1000)
        if gamepad_button_check_released(0, gp_face2)
        {current_dialogue=0 ; alarm[1]=-1 ; phase=40}
    }
    break;
    
    case 40 :
    {
        if current_dialogue&gt;=3
        {phase=50 ; current_dialogue=0 ; global.current_conv=0}
        else
        {
            if current_dialogue&gt;=0
            {
            global.current_conv=1
            draw_set_halign(fa_center)
            draw_roundrect_colour(192, 872, 1728, 972, c_red, c_maroon, false /*filled rectangle*/)
            draw_text(960, 915, string(dialogue[40 , current_dialogue]))
            draw_set_halign(fa_left)
            }
            
            
            if gamepad_button_check_released(0, gp_face1)
            {current_dialogue+=1}
        }
    }
    break;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
